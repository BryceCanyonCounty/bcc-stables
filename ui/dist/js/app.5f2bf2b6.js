(function(){"use strict";var e={8627:function(e,s,t){var o=t(9242),i=t(3396);const l={key:0,id:"content"};function a(e,s,t,o,a,n){const r=(0,i.up)("router-view");return a.visible||a.devmode?((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(r)])):(0,i.kq)("",!0)}var n={name:"DefaultLayout",data(){return{devmode:!1,visible:!1}},mounted(){window.addEventListener("message",this.onMessage)},methods:{onMessage(e){switch(e.data.action){case"show":this.visible=!0,this.$store.dispatch("setHorses",e.data.shopData),this.$store.dispatch("setShopName",e.data.location),this.$store.dispatch("setComponents",Object.fromEntries(Object.entries(e.data.compData).sort()));break;case"updateMyHorses":this.$store.dispatch("setMyHorses",e.data.myHorsesData);break;case"hide":this.visible=!1,this.$store.dispatch("setMyHorses",null),this.$store.dispatch("setHorses",null),this.$store.dispatch("setShopName",null),this.$store.dispatch("setComponents",null),this.$store.dispatch("setSelectedHorse",null),this.$store.dispatch("setCompCashPrice",0),this.$store.dispatch("setCompGoldPrice",0),this.$store.dispatch("setShowTackPrice",!1),this.$store.dispatch("setAllowSave",!1);break;default:break}}}},r=t(89);const c=(0,r.Z)(n,[["render",a]]);var d=c,h=t(2483),u=t(7139);const m=e=>((0,i.dD)("data-v-6b31eff9"),e=e(),(0,i.Cn)(),e),p={class:"container"},v={class:"main"},b={class:"header"},g={class:"header-text"},_={class:"btn-menu main-nav-buttons"},f=m((()=>(0,i._)("div",{class:"divider-menu-top"},null,-1))),C={key:0,class:"scroll-container"},w={key:1,class:"scroll-container"},y={key:2,class:"scroll-container"},S=m((()=>(0,i._)("div",{class:"divider-menu-top",style:{"margin-top":"1rem"}},null,-1))),k={class:"btn-bottom-main btn-bottom"},x=["disabled"],M=m((()=>(0,i._)("i",{class:"fas fa-chevron-left center"},null,-1))),P=[M],H=m((()=>(0,i._)("div",{class:"rotate-text"},[(0,i._)("span",{class:"grey-text center"},"Rotate")],-1))),T=m((()=>(0,i._)("i",{class:"fas fa-chevron-right center"},null,-1))),E=[T],I=m((()=>(0,i._)("div",{class:"divider-menu-bottom"},null,-1))),O=m((()=>(0,i._)("p",{style:{"text-align":"center"}},"Purchase by selecting cash or gold.",-1))),D=m((()=>(0,i._)("div",{class:"divider-menu-top",style:{"margin-top":"1rem"}},null,-1))),G={class:"flex cta-wrapper"},$=m((()=>(0,i._)("img",{src:"img/money.png"},null,-1))),N=m((()=>(0,i._)("img",{src:"img/gold.png"},null,-1))),j=m((()=>(0,i._)("div",{class:"divider-menu-bottom"},null,-1)));function A(e,s,t,o,l,a){const n=(0,i.up)("MenuButton"),r=(0,i.up)("MyStableMenu"),c=(0,i.up)("TraderMenu"),d=(0,i.up)("TackShopMenu"),h=(0,i.up)("ConfirmationModal");return(0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("div",v,[(0,i._)("div",b,[(0,i._)("div",g,(0,u.zw)(e.shopName),1)]),(0,i._)("div",_,[(0,i.Wm)(n,{label:"Stable",selectedPage:l.page,onClick:s[0]||(s[0]=e=>l.page="Stable"),class:"enabled"},null,8,["selectedPage"]),(0,i.Wm)(n,{label:"Trader",selectedPage:l.page,onClick:s[1]||(s[1]=e=>l.page="Trader"),class:"enabled"},null,8,["selectedPage"]),(0,i.Wm)(n,{label:"Tack Shop",selectedPage:l.page,onClick:s[2]||(s[2]=e=>l.page="Tack Shop"),class:(0,u.C_)({"disabled-btn":a.isClosed,enabled:!a.isClosed}),disabled:a.isClosed},null,8,["selectedPage","class","disabled"])]),f,"Stable"==l.page?((0,i.wg)(),(0,i.iD)("div",C,[(0,i.Wm)(r)])):"Trader"==l.page?((0,i.wg)(),(0,i.iD)("div",w,[(0,i.Wm)(c)])):((0,i.wg)(),(0,i.iD)("div",y,[(0,i.Wm)(d)])),S,(0,i._)("div",k,[(0,i._)("button",{id:"save",onClick:s[3]||(s[3]=e=>a.save()),disabled:!a.isSaveEnabled,class:(0,u.C_)({disabled:!a.isSaveEnabled,"btn-select":a.isSaveEnabled})}," Save ",10,x),(0,i._)("button",{id:"rotate_left",class:"btn-select btn-rotate",onClick:s[4]||(s[4]=e=>a.rotate("left"))},P),H,(0,i._)("button",{id:"rotate_right",class:"btn-select btn-rotate",onClick:s[5]||(s[5]=e=>a.rotate("right"))},E),(0,i._)("button",{id:"cancel",class:"btn-select",onClick:s[6]||(s[6]=e=>a.close())},"Cancel")]),I]),(0,i.Wm)(h,{visible:l.showModal,title:"Purchase",onClose:s[10]||(s[10]=e=>a.hideModal())},{default:(0,i.w5)((()=>[O,D,(0,i._)("div",G,[(0,i._)("button",{onClick:s[7]||(s[7]=e=>a.purchase(0)),class:"modal-btn flex flex-auto"},[$,(0,i.Uk)((0,u.zw)(e.compCashPrice),1)]),(0,i._)("button",{onClick:s[8]||(s[8]=e=>a.purchase(1)),class:"modal-btn flex flex-auto"},[N,(0,i.Uk)((0,u.zw)(e.compGoldPrice),1)]),(0,i._)("button",{onClick:s[9]||(s[9]=(...e)=>a.hideModal&&a.hideModal(...e)),class:"modal-btn flex flex-auto"}," Cancel ")]),j])),_:1},8,["visible"])])}var W=t(65),R=t(6265),z=t.n(R);const q=z().create({baseURL:`https://${"undefined"!==typeof GetParentResourceName?GetParentResourceName():"bcc-stables"}/`});var Z=q;function V(e,s,t,o,l,a){return(0,i.wg)(),(0,i.iD)("button",{class:(0,u.C_)({active:a.isActive})},(0,u.zw)(t.label),3)}var L={name:"MenuButton",props:{label:String,selectedPage:String},computed:{isActive(){return this.label==this.selectedPage}}};const B=(0,r.Z)(L,[["render",V],["__scopeId","data-v-33c26727"]]);var Y=B;const U=e=>((0,i.dD)("data-v-0ae3960c"),e=e(),(0,i.Cn)(),e),K={key:0},J={key:0},F={key:1},Q=(0,i.uE)('<div class="text" data-v-0ae3960c><div class="container" data-v-0ae3960c><div class="flex panel" data-v-0ae3960c><div class="flex flex-auto panel-title" data-v-0ae3960c><h6 class="grey-text plus" data-v-0ae3960c> No Horses!  Head to the Trader </h6></div></div></div></div>',1),X=[Q],ee={key:1},se=U((()=>(0,i._)("img",{src:"img/6cyl_revolver.png",alt:"",class:"image"},null,-1))),te=[se];function oe(e,s,t,o,l,a){const n=(0,i.up)("MyStableMenuItem");return e.myHorses?((0,i.wg)(),(0,i.iD)("div",K,[Object.keys(e.myHorses).length?((0,i.wg)(),(0,i.iD)("div",J,[(0,i._)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.myHorses,((e,t)=>((0,i.wg)(),(0,i.j4)(n,{label:e.name,index:e.id,model:e.model,horse:e,components:JSON.parse(e.components),selected:l.activeDropdown,key:t,onIExpanded:s[0]||(s[0]=e=>a.onChildExpansion(e))},null,8,["label","index","model","horse","components","selected"])))),128))])])):((0,i.wg)(),(0,i.iD)("div",F,X))])):((0,i.wg)(),(0,i.iD)("div",ee,te))}const ie=e=>((0,i.dD)("data-v-6eed6264"),e=e(),(0,i.Cn)(),e),le={class:"container"},ae={class:"panel"},ne={class:"grey-text plus"},re={key:0,class:"fas fa-chevron-left center active-horse mr"},ce={key:1,class:"fas fa-chevron-right center active-horse ml"},de={key:0,class:"mb"},he=ie((()=>(0,i._)("div",null,null,-1))),ue={class:"panel-myhorse item"},me=ie((()=>(0,i._)("div",{class:""},null,-1))),pe=ie((()=>(0,i._)("p",{style:{"text-align":"center"}},"Are you sure you want to sell?",-1))),ve=ie((()=>(0,i._)("div",{class:"divider-menu-top",style:{"margin-top":"1rem"}},null,-1))),be={class:"flex cta-wrapper"},ge=ie((()=>(0,i._)("img",{src:"img/money.png"},null,-1))),_e=ie((()=>(0,i._)("div",{class:"divider-menu-bottom"},null,-1)));function fe(e,s,t,o,l,a){const n=(0,i.up)("GenderIndicator"),r=(0,i.up)("ConfirmationModal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",le,[(0,i._)("div",ae,[(0,i._)("div",{class:"panel-title",onClick:s[0]||(s[0]=e=>[a.SelectHorse(),a.Expand()])},[(0,i._)("h6",ne,[a.isActive?((0,i.wg)(),(0,i.iD)("i",re)):(0,i.kq)("",!0),(0,i.Uk)(" "+(0,u.zw)(t.label)+" ",1),(0,i.Wm)(n,{gender:t.horse.gender},null,8,["gender"]),a.isActive?((0,i.wg)(),(0,i.iD)("i",ce)):(0,i.kq)("",!0)])])]),a.isOpen?((0,i.wg)(),(0,i.iD)("div",de,[he,(0,i._)("div",ue,[(0,i._)("button",{class:"item-myhorse",onClick:s[1]||(s[1]=e=>a.RenameHorse())},"Rename"),(0,i._)("button",{class:"item-myhorse",onClick:s[2]||(s[2]=(...e)=>a.toggleModal&&a.toggleModal(...e))},"Sell")]),me])):(0,i.kq)("",!0)]),(0,i.Wm)(r,{visible:l.showModal,title:"Confirm",onClose:a.toggleModal},{default:(0,i.w5)((()=>[pe,ve,(0,i._)("div",be,[(0,i._)("button",{onClick:s[3]||(s[3]=(...e)=>a.SellHorse&&a.SellHorse(...e)),class:"modal-btn flex flex-auto"},[ge,(0,i.Uk)("Sell ")]),(0,i._)("button",{onClick:s[4]||(s[4]=(...e)=>a.toggleModal&&a.toggleModal(...e)),class:"modal-btn flex flex-auto"}," Cancel ")]),_e])),_:1},8,["visible","onClose"])],64)}const Ce={key:0,class:"modal-wrapper"},we={class:"modal"},ye={class:"modal-header"},Se={class:"modal-body"};function ke(e,s,t,o,l,a){return t.visible?((0,i.wg)(),(0,i.iD)("div",Ce,[(0,i._)("div",{class:"modal-overlay",onClick:s[0]||(s[0]=(...e)=>a.close&&a.close(...e))}),(0,i._)("div",we,[(0,i._)("div",ye,[(0,i._)("span",null,(0,u.zw)(t.title),1)]),(0,i._)("div",Se,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])])])):(0,i.kq)("",!0)}var xe={name:"ConfirmationModal",props:{visible:{type:Boolean,required:!0},title:{type:String,default:"Modal Title"}},methods:{close(){this.$emit("update:visible",!1)}},computed:{isActive(){return this.label==this.selectedPage}}};const Me=(0,r.Z)(xe,[["render",ke],["__scopeId","data-v-4dfe12d2"]]);var Pe=Me;const He={key:0,width:"20px",height:"20px",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",style:{"vertical-align":"middle"}},Te=(0,i._)("path",{fill:"#9e9e9e",d:"M399.5 849.5a225 225 0 1 0 0-450 225 225 0 0 0 0 450zm0 56.25a281.25 281.25 0 1 1 0-562.5 281.25 281.25 0 0 1 0 562.5zm253.125-787.5h225q28.125 0 28.125 28.125T877.625 174.5h-225q-28.125 0-28.125-28.125t28.125-28.125z"},null,-1),Ee=(0,i._)("path",{fill:"#9e9e9e",d:"M877.625 118.25q28.125 0 28.125 28.125v225q0 28.125-28.125 28.125T849.5 371.375v-225q0-28.125 28.125-28.125z"},null,-1),Ie=(0,i._)("path",{fill:"#9e9e9e",d:"M604.813 458.9 565.1 419.131l292.613-292.668 39.825 39.824z"},null,-1),Oe=[Te,Ee,Ie],De={key:1,width:"25px",height:"25px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{"vertical-align":"middle"}},Ge=(0,i._)("path",{d:"M9 18H15M12 13V21M12 13C14.7614 13 17 10.7614 17 8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8C7 10.7614 9.23858 13 12 13Z",stroke:"#9e9e9e","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),$e=[Ge];function Ne(e,s,t,o,l,a){return"male"==t.gender?((0,i.wg)(),(0,i.iD)("svg",He,Oe)):((0,i.wg)(),(0,i.iD)("svg",De,$e))}var je={name:"MyStableMenuItem",props:{gender:String}};const Ae=(0,r.Z)(je,[["render",Ne]]);var We=Ae,Re={name:"MyStableMenuItem",props:{label:String,index:Number,model:String,components:Object,selected:Number,horse:Object},data(){return{showModal:!1}},emits:["iExpanded"],computed:{...(0,W.rn)(["activeHorse"]),isOpen(){return this.index==this.selected},isActive(){return this.activeHorse&&this.index==this.activeHorse["id"]}},methods:{Expand(){this.isOpen||this.$emit("iExpanded",this.index)},SelectHorse(){this.isOpen||(this.$store.dispatch("setSelectedHorse",this.horse),Z.post("selectHorse",{horseId:this.index}).catch((e=>{console.log(e.message)})),Z.post("loadMyHorse",{HorseId:this.index,HorseModel:this.model,HorseGender:this.horse.gender,HorseComp:JSON.stringify(this.components)}))},RenameHorse(){Z.post("RenameHorse",{horseId:this.index}).catch((e=>{console.log(e.message)}))},SellHorse(){Z.post("sellHorse",{horseId:this.index}).catch((e=>{console.log(e.message)}))},toggleModal(){this.showModal=!this.showModal}},components:{ConfirmationModal:Pe,GenderIndicator:We}};const ze=(0,r.Z)(Re,[["render",fe],["__scopeId","data-v-6eed6264"]]);var qe=ze,Ze={name:"MyStableMenu",data(){return{activeDropdown:-1}},methods:{onChildExpansion(e){this.activeDropdown=e}},components:{MyStableMenuItem:qe},computed:(0,W.rn)(["myHorses","activeHorse"])};const Ve=(0,r.Z)(Ze,[["render",oe],["__scopeId","data-v-0ae3960c"]]);var Le=Ve;function Be(e,s,t,o,l,a){const n=(0,i.up)("TraderMenuItem");return(0,i.wg)(),(0,i.iD)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.horses,((e,s)=>((0,i.wg)(),(0,i.j4)(n,{horse:e,index:s,selected:l.activeDropdown,key:s,onIExpanded:e=>a.onChildExpansion(e,s)},null,8,["horse","index","selected","onIExpanded"])))),128))])}const Ye={class:"container"},Ue={class:"flex flex-auto panel-title"},Ke={class:"grey-text plus"},Je={key:0};function Fe(e,s,t,o,l,a){const n=(0,i.up)("TraderMenuColor");return(0,i.wg)(),(0,i.iD)("div",Ye,[(0,i._)("div",{class:"flex panel",onClick:s[0]||(s[0]=e=>a.Expand())},[(0,i._)("div",Ue,[(0,i._)("h6",Ke,(0,u.zw)(t.horse.breed),1)])]),a.isOpen?((0,i.wg)(),(0,i.iD)("div",Je,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.horse.colors,((e,s)=>((0,i.wg)(),(0,i.iD)("div",{class:"item",key:s},[(0,i.Wm)(n,{horse:e,model:s},null,8,["horse","model"])])))),128))])):(0,i.kq)("",!0)])}const Qe=e=>((0,i.dD)("data-v-213976bf"),e=e(),(0,i.Cn)(),e),Xe={class:"item flex flex-auto"},es={class:"grey-text-shop title"},ss={class:"buy-buttons flex flex-auto justify-end"},ts=Qe((()=>(0,i._)("img",{src:"img/money.png"},null,-1))),os=Qe((()=>(0,i._)("img",{src:"img/gold.png"},null,-1))),is=Qe((()=>(0,i._)("div",{class:"divider-menu-top",style:{"margin-top":"1rem"}},null,-1))),ls={class:"flex cta-wrapper"},as=Qe((()=>(0,i._)("div",{class:"divider-menu-bottom"},null,-1))),ns=Qe((()=>(0,i._)("div",{class:"divider-menu-top",style:{"margin-top":"1rem"}},null,-1))),rs={class:"flex cta-wrapper"},cs=Qe((()=>(0,i._)("div",{class:"divider-menu-bottom"},null,-1)));function ds(e,s,t,o,l,a){const n=(0,i.up)("ConfirmationModal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",{class:"panel-shop item flex",onClick:s[2]||(s[2]=e=>a.loadHorse())},[(0,i._)("div",Xe,[(0,i._)("h6",es,(0,u.zw)(t.horse.color),1)]),(0,i._)("div",ss,[(0,i._)("button",{class:"btn-small",onClick:s[0]||(s[0]=e=>a.showModal(!0))},[ts,(0,i._)("span",null,(0,u.zw)(t.horse.cashPrice),1)]),(0,i._)("button",{class:"btn-small right-btn",onClick:s[1]||(s[1]=e=>a.showModal(!1))},[os,(0,i._)("span",null,(0,u.zw)(t.horse.goldPrice),1)])])]),(0,i.Wm)(n,{visible:l.isVisible,title:"Purchase",onClose:s[5]||(s[5]=e=>a.hideModal())},{default:(0,i.w5)((()=>[is,(0,i._)("div",ls,[(0,i._)("button",{onClick:s[3]||(s[3]=e=>a.buyHorse()),class:"modal-btn flex flex-auto"}," Confirm "),(0,i._)("button",{onClick:s[4]||(s[4]=(...e)=>a.hideModal&&a.hideModal(...e)),class:"modal-btn flex flex-auto"}," Cancel ")]),as])),_:1},8,["visible"]),(0,i.Wm)(n,{visible:l.genderVisible,title:"Select Gender",onClose:s[9]||(s[9]=e=>a.hideGenderModal())},{default:(0,i.w5)((()=>[ns,(0,i._)("div",rs,[(0,i._)("button",{onClick:s[6]||(s[6]=e=>a.setGender("male")),class:"modal-btn flex flex-auto"}," Male "),(0,i._)("button",{onClick:s[7]||(s[7]=e=>a.setGender("female")),class:"modal-btn flex flex-auto"}," Female "),(0,i._)("button",{onClick:s[8]||(s[8]=(...e)=>a.hideGenderModal&&a.hideGenderModal(...e)),class:"modal-btn flex flex-auto"}," Cancel ")]),cs])),_:1},8,["visible"])],64)}var hs={name:"TraderMenuColor",props:{horse:Object,model:String},data(){return{isVisible:!1,genderVisible:!1,currencyType:null,gender:"male"}},computed:{...(0,W.rn)(["activeHorse"]),isActive(){return this.active}},methods:{showModal(e){this.currencyType=e,this.genderVisible=!0},hideModal(){this.currencyType=null,this.isVisible=!1},hideGenderModal(){this.currencyType=null,this.genderVisible=!1},setGender(e){this.gender=e,this.genderVisible=!1,this.isVisible=!0},loadHorse(){this.activeHorse&&this.$store.dispatch("setSelectedHorse",null),Z.post("loadHorse",{horseModel:this.model})},buyHorse(){null!==this.currencyType&&(this.currencyType?Z.post("BuyHorse",{ModelH:this.model,Cash:this.horse.cashPrice,IsCash:this.currencyType,gender:this.gender}):Z.post("BuyHorse",{ModelH:this.model,Gold:this.horse.goldPrice,IsCash:this.currencyType,gender:this.gender}))}},components:{ConfirmationModal:Pe}};const us=(0,r.Z)(hs,[["render",ds],["__scopeId","data-v-213976bf"]]);var ms=us,ps={name:"TraderMenuItem",props:{horse:Object,index:Number,selected:Number},emits:["iExpanded"],computed:{...(0,W.rn)(["shopName","myHorses","horses","comps","activeHorse"]),isOpen(){return this.index==this.selected}},methods:{Expand(){this.isOpen||this.$emit("iExpanded",this.index)}},components:{TraderMenuColor:ms}};const vs=(0,r.Z)(ps,[["render",Fe],["__scopeId","data-v-d3642360"]]);var bs=vs,gs={name:"TraderMenu",data(){return{activeDropdown:-1}},methods:{onChildExpansion(e){this.activeDropdown=e}},components:{TraderMenuItem:bs},computed:(0,W.rn)(["horses"])};const _s=(0,r.Z)(gs,[["render",Be]]);var fs=_s;function Cs(e,s,t,o,l,a){const n=(0,i.up)("TackShopMenuItem"),r=(0,i.up)("TackShopCostDisplay");return(0,i.wg)(),(0,i.iD)(i.HY,null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.comps,((e,s)=>((0,i.wg)(),(0,i.j4)(n,{label:s,maxItems:Object.keys(e).length,horseComps:e,key:s},null,8,["label","maxItems","horseComps"])))),128)),(0,i.Wm)(r,{visible:e.showTackPrice,title:"Tack Price"},null,8,["visible"])],64)}const ws=e=>((0,i.dD)("data-v-643716bc"),e=e(),(0,i.Cn)(),e),ys={class:"tackshop"},Ss={class:"col s12 panel-cust mb"},ks={class:"col s6 item-cust"},xs={class:"grey-text-cust title"},Ms={class:"col s6 flex justify-end"},Ps=ws((()=>(0,i._)("i",{class:"fas fa-chevron-left"},null,-1))),Hs=[Ps],Ts={class:"item-count flex-none"},Es={class:"grey-text-count title"},Is=ws((()=>(0,i._)("i",{class:"fas fa-chevron-right"},null,-1))),Os=[Is];function Ds(e,s,t,o,l,a){return(0,i.wg)(),(0,i.iD)("div",ys,[(0,i._)("div",Ss,[(0,i._)("div",ks,[(0,i._)("h6",xs,(0,u.zw)(t.label),1)]),(0,i._)("div",Ms,[(0,i._)("button",{class:"button-left btn flex-",onClick:s[0]||(s[0]=e=>a.decrease())},Hs),(0,i._)("div",Ts,[(0,i._)("h6",Es,(0,u.zw)(a.counter),1)]),(0,i._)("button",{class:"button-right btn flex-none",onClick:s[1]||(s[1]=e=>a.increase())},Os)])])])}var Gs={name:"TackShopMenuItem",props:{label:{type:String,required:!0},maxItems:{type:Number,required:!0},horseComps:{type:Object,required:!0}},data(){return{curItem:0}},mounted(){let e=JSON.parse(this.activeHorse["components"]);for(const[s,t]of Object.entries(this.horseComps))if(Object.keys(e).length&&e.includes(t["hash"])){this.curItem=parseInt(s)+1;break}this.updateItem()},computed:{...(0,W.rn)(["comps","activeHorse","compCashPrice","compGoldPrice","showTackPrice","allowSave"]),counter(){return`${this.curItem}/${this.maxItems}`}},watch:{curItem(e,s){let t=s-1,o=e-1;t>-1&&!this.isOwned(t)&&(this.$store.dispatch("setCompCashPrice",this.compCashPrice-parseInt(this.horseComps[t]["cashPrice"])),this.$store.dispatch("setCompGoldPrice",this.compGoldPrice-parseInt(this.horseComps[t]["goldPrice"]))),o>-1&&!this.isOwned(o)&&(this.$store.dispatch("setCompCashPrice",this.compCashPrice+parseInt(this.horseComps[o]["cashPrice"])),this.$store.dispatch("setCompGoldPrice",this.compGoldPrice+parseInt(this.horseComps[o]["goldPrice"]))),this.showTackPrice&&0==this.compCashPrice&&0==this.compGoldPrice?this.$store.dispatch("setShowTackPrice",!1):!this.showTackPrice&&this.compCashPrice&&this.compGoldPrice&&(this.$store.dispatch("setShowTackPrice",!0),this.$store.dispatch("setAllowSave",!0))}},methods:{isOwned(e){let s=JSON.parse(this.activeHorse["components"]);return Object.keys(s).length&&s.includes(this.horseComps[e]["hash"])},increase(){++this.curItem>this.maxItems&&(this.curItem=0),this.updateItem()},decrease(){--this.curItem<0&&(this.curItem=this.maxItems),this.updateItem()},updateItem(){Z.post(this.label.replace(/\s+/g,""),{id:this.curItem-1,hash:this.curItem-1==-1?"":this.horseComps[this.curItem-1]["hash"]}).catch((e=>{console.log(e.message)}))}}};const $s=(0,r.Z)(Gs,[["render",Ds],["__scopeId","data-v-643716bc"]]);var Ns=$s;const js=e=>((0,i.dD)("data-v-ee4ec3ae"),e=e(),(0,i.Cn)(),e),As={key:0,class:"modal-wrapper"},Ws={class:"modal"},Rs={class:"modal-header"},zs={class:"modal-body"},qs={class:"flex cta-wrapper"},Zs=js((()=>(0,i._)("img",{src:"img/money.png"},null,-1))),Vs=js((()=>(0,i._)("img",{src:"img/gold.png"},null,-1)));function Ls(e,s,t,o,l,a){return t.visible?((0,i.wg)(),(0,i.iD)("div",As,[(0,i._)("div",Ws,[(0,i._)("div",Rs,[(0,i._)("span",null,(0,u.zw)(t.title),1)]),(0,i._)("div",zs,[(0,i._)("div",qs,[(0,i._)("button",{onClick:s[0]||(s[0]=(...s)=>e.buyWithCash&&e.buyWithCash(...s)),class:"modal-btn flex flex-auto"},[Zs,(0,i.Uk)((0,u.zw)(e.compCashPrice),1)]),(0,i._)("button",{onClick:s[1]||(s[1]=(...s)=>e.buyWithGold&&e.buyWithGold(...s)),class:"modal-btn flex flex-auto"},[Vs,(0,i.Uk)((0,u.zw)(e.compGoldPrice),1)])])])])])):(0,i.kq)("",!0)}var Bs={name:"TackShopCostDisplay",props:{visible:{type:Boolean,required:!0},title:{type:String,default:"Modal Title"}},methods:{close(){this.$emit("update:visible",!1)}},computed:{...(0,W.rn)(["compCashPrice","compGoldPrice"]),isActive(){return this.label==this.selectedPage}}};const Ys=(0,r.Z)(Bs,[["render",Ls],["__scopeId","data-v-ee4ec3ae"]]);var Us=Ys,Ks={name:"TackShopMenu",props:{},components:{TackShopMenuItem:Ns,TackShopCostDisplay:Us},methods:{},computed:{...(0,W.rn)(["comps","compCashPrice","compGoldPrice","showTackPrice","allowSave"])},beforeUnmount(){this.$store.dispatch("setCompCashPrice",0),this.$store.dispatch("setCompGoldPrice",0),this.$store.dispatch("setShowTackPrice",!1),this.$emit("toggleSave",!1)}};const Js=(0,r.Z)(Ks,[["render",Cs]]);var Fs=Js,Qs={name:"HorseMenu",data(){return{page:"Stable",showModal:!1}},components:{MenuButton:Y,MyStableMenu:Le,TraderMenu:fs,TackShopMenu:Fs,ConfirmationModal:Pe},methods:{hideModal(){this.showModal=!1,this.$store.dispatch("setShowTackPrice",!0)},save(){0!=this.compCashPrice||0!=this.compGoldPrice?(this.$store.dispatch("setShowTackPrice",!1),this.showModal=!0):this.purchase(0)},purchase(e){Z.post("CloseStable",{MenuAction:"save",cashPrice:this.compCashPrice,goldPrice:this.compGoldPrice,currencyType:e}).catch((e=>{console.log(e.message)}))},close(){Z.post("CloseStable",{MenuAction:"Close"}).catch((e=>{console.log(e.message)}))},rotate(e){Z.post("rotate",{RotateHorse:e})}},computed:{...(0,W.rn)(["shopName","activeHorse","compCashPrice","compGoldPrice","allowSave"]),isClosed(){return null===this.activeHorse},isSaveEnabled(){return this.allowSave}}};const Xs=(0,r.Z)(Qs,[["render",A],["__scopeId","data-v-6b31eff9"]]);var et=Xs;const st=[{path:"/",name:"home",component:et}],tt=(0,h.p7)({history:(0,h.r5)(),routes:st});var ot=tt,it=(0,W.MT)({state:{myHorses:null,horses:null,shopName:null,comps:null,activeHorse:null,compCashPrice:0,compGoldPrice:0,showTackPrice:!1,allowSave:!1},getters:{},mutations:{SET_MY_HORSES(e,s){e.myHorses=s},SET_HORSES(e,s){e.horses=s},SET_SHOP_NAME(e,s){e.shopName=s},SET_COMPONENTS(e,s){e.comps=s},SET_SELECTED_HORSE(e,s){e.activeHorse=s},SET_COMP_CASH_PRICE(e,s){e.compCashPrice=s},SET_COMP_GOLD_PRICE(e,s){e.compGoldPrice=s},SET_SHOW_TACK_PRICE(e,s){e.showTackPrice=s},SET_ALLOW_SAVE(e,s){e.allowSave=s}},actions:{setMyHorses(e,s){e.commit("SET_MY_HORSES",s)},setHorses(e,s){e.commit("SET_HORSES",s)},setShopName(e,s){e.commit("SET_SHOP_NAME",s)},setComponents(e,s){e.commit("SET_COMPONENTS",s)},setSelectedHorse(e,s){e.commit("SET_SELECTED_HORSE",s)},setCompCashPrice(e,s){e.commit("SET_COMP_CASH_PRICE",s)},setCompGoldPrice(e,s){e.commit("SET_COMP_GOLD_PRICE",s)},setShowTackPrice(e,s){e.commit("SET_SHOW_TACK_PRICE",s)},setAllowSave(e,s){e.commit("SET_ALLOW_SAVE",s)}},modules:{}});(0,o.ri)(d).use(it).use(ot).mount("#app")}},s={};function t(o){var i=s[o];if(void 0!==i)return i.exports;var l=s[o]={exports:{}};return e[o](l,l.exports,t),l.exports}t.m=e,function(){var e=[];t.O=function(s,o,i,l){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],l=e[d][2];for(var n=!0,r=0;r<o.length;r++)(!1&l||a>=l)&&Object.keys(t.O).every((function(e){return t.O[e](o[r])}))?o.splice(r--,1):(n=!1,l<a&&(a=l));if(n){e.splice(d--,1);var c=i();void 0!==c&&(s=c)}}return s}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,i,l]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,o){var i,l,a=o[0],n=o[1],r=o[2],c=0;if(a.some((function(s){return 0!==e[s]}))){for(i in n)t.o(n,i)&&(t.m[i]=n[i]);if(r)var d=r(t)}for(s&&s(o);c<a.length;c++)l=a[c],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(d)},o=self["webpackChunkui"]=self["webpackChunkui"]||[];o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(8627)}));o=t.O(o)})();
//# sourceMappingURL=app.5f2bf2b6.js.map